---

layout:     post                                   # 使用的布局（不需要改）
title:      科学上网的正确食用方式                                 # 标题 
subtitle:   你真的会翻墙吗？ 				#副标题
date:       2021-1-10                                # 时间
author:     一勺蘑菇                                              # 作者
header-img: img/post-bg-21-1-10.png         #这篇文章标题背景图片
catalog: true                                                 # 是否归档
tags:                                                             #标签
    - 翻墙
    - 科学上网

---

## 科学上网的正确方式

#### 目录

1.前言

2.GFW介绍

3.GFW的工作原理

4.Vpn的翻墙原理

5.Shadowsocks的翻墙原理

***

### 1.前言

​        *本人提倡正确上网，国内能满足需要的尽量不要去翻墙，下面的分享也只是为了学习研究，切忌通过翻墙去做违规违法的事，否则后果自负*

另，本文所介绍的皆是翻墙及其相关工具的原理，并不涉及翻墙方法。

### 2.GFW的介绍

​        GFW，即**中国国家防火墙**，人们口中的**功夫网**、**网络长城**、**墙**等。正是它的存在，使得*Google、Twitter、Facebook*等众多网站无法访问，隔离了中国和国外的网络生态。仅Github上的一个被墙网站收集项目[Gfwlist](https://github.com/gfwlist/gfwlist)
,截止**2021年1月9日**就记录了871450个被墙的网站。
![项目介绍图片](https://tvax4.sinaimg.cn/large/0085P7tDgy1gmhoqn9655j30g203smxf.jpg)

​        墙的历史可以算得上悠久了，起步于1998年，在那个民用互联网开始逐步繁盛的时代。不过当时并没有网站被墙，直到最近十年，由于一些**政治原因**才陆续禁止了各类网站的访问。

​        很多人认为墙的存在是为了阻挡大陆用户访问某些境外网站和服务，已达到洗脑和愚化群众的目的。其实不尽然，墙的存在更多是为了保护中国的国家安全。如08年奥运会前夕，一些恐怖分子在Facebook上策划、协调并实施了一次对中国西部恐怖袭击。政府要求Facebook提供这些恐怖分子的用户信息，但Facebook以保护用户隐私的理由回绝了，这也使得后来中国政府不得不墙一系列的国家。（也有一些网站，如P***hub，纯粹只是被牵连进去的🙃）

​        此类事件数不胜数，国家也是迫于国防安危才设立GFW，请理智看待其存在，不要一味地吐槽。

### 3.GFW的工作原理

​        首先，要明确本地客户端（浏览器）向服务器（网页）请求的过程。

​        每一个网站背后都有一个服务器来架设这个网站，每个服务器都被互联网分配了ip地址，访问一个网站（例如[百度](https://www.baidu.com)www.baidu.com）实际上是访问了其ip地址([180.101.49.12](http://180.101.49.12/)).

​        一般情况下，一个网络通讯的数据包是这样运作的：![没有GFW的网络通讯](https://tvax1.sinaimg.cn/large/0085P7tDgy1gmhpfs6hsyj313w0cy40w.jpg)

​        我们先用浏览器打开一个网站，电脑**解析网址**得到服务器的ip地址后，发送请求到服务器，服务器接收并处理后，返回数据给电脑。

​        其间，***解析网址***的过程，便是**DNS**(Domain Name Service域名解析)，负责把一个网址变成ip地址。GFW便是通过**污染DNS**，使得你访问某被墙网址时，让DNS给你一个错误的ip地址，网站也便打不开了。![有GFW时的网络通讯](https://tvax1.sinaimg.cn/large/0085P7tDgy1gmhpqlxjb3j312w09o41p.jpg)<font size=2>（其实GFW还有另一些封锁方式，只是需要一些网络开发的基础才能理解。此处只要对GFW的工作原理稍作了解即可</font>

### 4.Vpn的翻墙原理

​        了解了GFW的工作原理后，我们便可以给定一种绕过封锁的方案。**用一台GFW认为合理的国外服务器进行中转，替代自己访问网站，再返回网站数据，过程全程加密。**这也就是很多初期的Vpn以及各路翻墙软件(SSH,SS)的原理。![Vpn翻墙](https://tva1.sinaimg.cn/large/0085P7tDgy1gmhqyg6nhmj312a0aw0wc.jpg)                                                                                <font size=2>（图中过程无需理解透彻，稍作了解便可）</font>

​        这样做有几点好处：

1. 发送的数据是**加密的**，GFW**探测不到其内容**
2. DNS解析时，发现访问对象（代理服务器）是允许访问的服务器而不是被墙网站，便正常放行。

​        但渐渐地，由于太多用户使用这种方式来翻墙，GFW就慢慢发现越来越多的流量以这种方式传输，发现了它们的**特征**，就对开始批量封禁Vpn的ip地址，也就相当于把代理服务器墙了。**Vpn基本宣告凉凉。**可惜由于国内封闭的环境，大多数翻墙的网民仍然使用着Vpn，即使它速度不快也不稳定。

​	    迫于国内紧迫的翻墙环境，一位大佬***Clowwindy***挺身而出，创造了**Shadowsocks**协议。



### 5.Shadowsocks的工作原理

​        **Shadowsocks**，简称**SS**，它提出了**把代理服务器拆分成远程和本地两个**的概念，实现经过GFW的流量**全部**加密。如此，GFW便发现不了传输流量的**特征**。肯定不了这是翻墙的流量，自然无法封禁，SS也能长久存活至今。![SS工作原理图](https://tvax1.sinaimg.cn/large/0085P7tDgy1gmioohufh6j30ly0cb3yv.jpg)

​        与上述Vpn惟一的区别，是图中在数据到达GFW前，又经过了一次"SS Local"的本地加密。在远程服务器返回数据时，也进行一次加密，最后在本地服务器进行解密，得到数据。SS做到了真正意义上的**完全加密**。



### 6.总结

​        翻墙归根究底就是用一台国外的电脑（服务器）进行**代理访问**，翻墙工具所做的只是**连接**你和服务器。

​        Vpn本作为匿名上网工具，其诞生其实**远早于GFW**，只是其**匿名性**刚好可以翻墙，才成为了翻墙工具。

​        Vpn非常容易被封，原因是经Vpn所传输的流量有容易被侦测到的**特性**。

​        SS是专门用于翻墙的工具，它在Vpn的基础上多加了一层本地加密，使得GFW探测不到流量的**特性**。

​        其他的一些翻墙工具，如SS改版的SSR，近年火起来的V2ray，和新起之秀Trojan，都与SS的加密原理大同小异，最多是在流量经过GFW多做些手脚。



### 7.最后的最后

​        感谢你看到这里！（虽然不知道有没有看懂😝)
​        如果这篇文章对你有所帮助，那我将荣幸至极。
​        那么就这样，bye

​                                                                                                                                                                                                        by 一勺蘑菇

